<?xml version="1.1" encoding="UTF-8"?>
<!-- salt:cde82315-e936-41f1-90c6-32daeeda6afd -->
<metadata name="test_invoice" path="/shared/Delta_DV/Physical/Formatting/PackagedQueries/Billing/test_invoice" type="PROCEDURE" subtype="EXTERNAL_SQL_PROCEDURE" changeToken="0">
  <parameters>
    <parameter name="result" direction="OUT" nullable="true">
      <datatype name="CURSOR" type="TABLE" refId="256">
        <element name="invoicenumber">
          <datatype name="VARCHAR" type="STRING" maxLength="255"/>
        </element>
      </datatype>
    </parameter>
  </parameters>
  <security>
    <owner user="nobody" domain="composite"/>
  </security>
  <dependency target="/shared/Delta_DV/Physical/Metadata/DataSources/Ebillpay" type="DATA_SOURCE">
    <datatype name="Tree" type="TREE" refId="257"></datatype>
  </dependency>
  <attribute name="SQL" type="STRING">--select * from
--(
SELECT 
    invoice.invoice_number
    invoiceNumber, 
    invoice.v_invoice_date invoiceDate, 
    invoice.v_coverage_start_date
    coverageStartDate, 
    invoice.v_coverage_end_date coverageEndDate, 
    invoice.invoice_status
    invoiceStatus, 
    invoice.v_invoice_type invoiceType, 
    invoice.v_invoice_sub_type
    invoiceSubType, 
    invoice.v_group_number billToGroupNumber,
    invoice.v_bill_to_division_number billToDivisionNumber, 
    invoice.v_group_name
    billToGroupName, 
    invoice.v_number_of_enrollees numberOfEnrollees,
    invoice.v_invoice_amount invoiceAmount, 
    invoice.v_adjustment_amount adjustmentAmount,
    invoice.v_invoice_legal_entity legalEntity, 
    invoice.v_bill_to_id billToId,
    invoice.v_biller_id billerId, 
    invoice.version_number invoiceVersion, 
  row_number() over
    (order by invoice_number asc )rk,
  COUNT(*) OVER () totalnumberofrows from invoice 
where
invoice.v_group_name IN (&apos;x&apos;) --= q&apos;[(&apos;x&apos;)]&apos;) 
-- (invoice.v_group_name IN  or q&apos;[]&apos; =q&apos;[(&apos; &apos;)]&apos;)      
AND invoice.v_group_number =  COALESCE(NULLIF(&apos;NULL&apos;,&apos;NULL&apos;),invoice.v_group_number)
--AND (invoice.v_bill_to_id IN (&apos;x&apos;) or q&apos;[(&apos;x&apos;)]&apos; =q&apos;[(&apos;x&apos;)]&apos;) 
--AND (invoice.v_biller_id IN (&apos;x&apos;) or q&apos;[(&apos;x&apos;)]&apos; =q&apos;[(&apos;x&apos;)]&apos;) 
AND invoice.v_brand = COALESCE(NULLIF(&apos;NULL&apos;,&apos;NULL&apos;),invoice.v_brand)
AND invoice.v_invoice_date &gt;= COALESCE(NULL,invoice.v_invoice_date) 
AND invoice.v_invoice_date &lt;=COALESCE(NULL,invoice.v_invoice_date) 
AND invoice.invoice_number = COALESCE(NULLIF(&apos;BE004090542&apos;,&apos;NULL&apos;),invoice.invoice_number)
--AND (invoice.invoice_status IN   (&apos;x&apos;) or q&apos;[(&apos;x&apos;)]&apos; =q&apos;[(&apos;x&apos;)]&apos;) 
--AND (invoice.v_invoice_type IN (&apos;x&apos;) or q&apos;[(&apos;x&apos;)]&apos;   =q&apos;[(&apos;x&apos;)]&apos;) 
--AND (invoice.v_invoice_legal_entity IN (&apos;x&apos;) or q&apos;[(&apos;x&apos;)]&apos; =q&apos;[(&apos;x&apos;)]&apos;) 
--)--wHERE rk BETWEEN (1 - 1) * 25 + 1 AND 1 * 25</attribute>
  <attribute name="creationDate" type="LONG">1611354392470</attribute>
  <attribute name="creatorUserDomain" type="STRING">dev</attribute>
  <attribute name="creatorUserId" type="INTEGER">2850169</attribute>
  <attribute name="creatorUserName" type="STRING">dca32905</attribute>
  <attribute name="isSingleSelect" type="STRING">false</attribute>
  <attribute name="lastModifiedDate" type="LONG">1611369564554</attribute>
  <attribute name="lastModifiedUserDomain" type="STRING">dev</attribute>
  <attribute name="lastModifiedUserId" type="INTEGER">2850169</attribute>
  <attribute name="lastModifiedUserName" type="STRING">dca32905</attribute>
  <attribute name="passThroughSource" type="STRING">/shared/Delta_DV/Physical/Metadata/DataSources/Ebillpay</attribute>
  <attribute name="resourceModifiedDateOnSourceCISSite" type="LONG">1611354392470</attribute>
</metadata>