<?xml version="1.1" encoding="UTF-8"?>
<!-- salt:cde82315-e936-41f1-90c6-32daeeda6afd -->
<metadata name="Service_Form_Fact_HLP_Agent_Name" path="/shared/Delta_DV/Application/Views/Reports/CCTA/Service_Form_Fact_HLP_Agent_Name" type="TABLE" subtype="SQL_TABLE" changeToken="0" tableType="VIEW">
  <columns>
    <column name="Service_Form_KEY" nullable="true">
      <datatype type="INTEGER"/>
      <security>
        <owner user="nobody" domain="composite"/>
      </security>
    </column>
    <column name="Service_Form_State_Type_Code" nullable="true">
      <datatype type="STRING" maxLength="5"/>
      <security>
        <owner user="nobody" domain="composite"/>
      </security>
    </column>
    <column name="Agent_ID" nullable="true">
      <datatype type="STRING" maxLength="100"/>
      <security>
        <owner user="nobody" domain="composite"/>
      </security>
    </column>
    <column name="Service_Form_Workstream_Name" nullable="true">
      <datatype type="STRING" maxLength="60"/>
      <security>
        <owner user="nobody" domain="composite"/>
      </security>
    </column>
    <column name="Source_System_User_Login_Identifier" nullable="true">
      <datatype type="STRING" maxLength="64"/>
      <security>
        <owner user="nobody" domain="composite"/>
      </security>
    </column>
    <column name="Agent_Name" nullable="true">
      <datatype type="STRING" minLength="1" maxLength="201"/>
      <security>
        <owner user="nobody" domain="composite"/>
      </security>
    </column>
    <column name="Supervisor_Name" nullable="true">
      <datatype type="STRING" minLength="1" maxLength="201"/>
      <security>
        <owner user="nobody" domain="composite"/>
      </security>
    </column>
    <column name="state_date" nullable="true">
      <datatype type="DATETIME"/>
      <security>
        <owner user="nobody" domain="composite"/>
      </security>
    </column>
  </columns>
  <indexes></indexes>
  <foreignKeys></foreignKeys>
  <security>
    <owner user="nobody" domain="composite"/>
  </security>
  <dependency target="/shared/Delta_DV/Business/BusinessSemantic/EDP/Customer_Service_Agent" type="TABLE">
    <datatype type="TABLE" refId="256">
      <element name="Customer_Service_Agent_Key">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="User_Identifier">
        <datatype type="STRING" maxLength="100"/>
      </element>
      <element name="Given_Name">
        <datatype type="STRING" maxLength="100"/>
      </element>
      <element name="Family_Name">
        <datatype type="STRING" maxLength="100"/>
      </element>
      <element name="Job_Title_Text">
        <datatype type="STRING" maxLength="100"/>
      </element>
      <element name="Begin_Date">
        <datatype type="DATETIME"/>
      </element>
      <element name="Supervisor_Key">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="Source_System_Identifier">
        <datatype type="STRING" maxLength="100"/>
      </element>
      <element name="Source_System_Name">
        <datatype type="STRING" maxLength="100"/>
      </element>
    </datatype>
  </dependency>
  <dependency target="/shared/Delta_DV/Business/BusinessSemantic/EDP/Service_Form_State" type="TABLE">
    <datatype type="TABLE" refId="256">
      <element name="State_Date">
        <datatype type="DATETIME"/>
      </element>
      <element name="Customer_Service_Event_Key">
        <datatype type="INTEGER"/>
      </element>
      <element name="Source_System_User_Login_Identifier">
        <datatype type="STRING" maxLength="64"/>
      </element>
      <element name="Service_Form_State_Type_Code">
        <datatype type="STRING" maxLength="5"/>
      </element>
      <element name="Agent_Event_Stakeholder_SKEY">
        <datatype type="INTEGER"/>
      </element>
      <element name="Service_Form_Workstream_Name">
        <datatype type="STRING" maxLength="60"/>
      </element>
      <element name="Service_Form_State_Key">
        <datatype type="INTEGER"/>
      </element>
      <element name="Service_Form_Key">
        <datatype type="INTEGER"/>
      </element>
    </datatype>
  </dependency>
  <attribute name="SQL" type="STRING">SELECT 
Service_Form_KEY,
Service_Form_State_Type_Code,
Agent_ID,
Service_Form_Workstream_Name,
Source_System_User_Login_Identifier,
Agent_Name,
Supervisor_Name,
state_date
 from ( select
    sfs.Service_Form_KEY , sfs.Service_Form_State_Type_Code,
sfs.Service_Form_Workstream_Name,
sfs.state_date,
sfs.Source_System_User_Login_Identifier,
    iocsa.User_Identifier as Agent_ID,
 iocsa.Given_Name || &apos; &apos; || iocsa.Family_Name as Agent_Name ,
iocsas.Given_Name || &apos; &apos; || iocsas.Family_Name as Supervisor_Name,
ROW_NUMBER() OVER ( PARTITION BY sfs.Service_Form_KEY , 
sfs.Service_Form_State_Type_Code 
 order by  sfs.state_date desc ) rank
   FROM /shared/Delta_DV/Business/BusinessSemantic/EDP/Service_Form_State sfs
LEFT OUTER JOIN 
/shared/Delta_DV/Business/BusinessSemantic/EDP/Customer_Service_Agent iocsa
ON upper(cast(iocsa.Source_System_Identifier as varchar(100))) =  upper(cast(sfs.Source_System_User_Login_Identifier as varchar(100)))
LEFT OUTER JOIN /shared/Delta_DV/Business/BusinessSemantic/EDP/Customer_Service_Agent iocsas
ON upper(cast(iocsas.Source_System_Identifier as varchar(100)))  = upper(cast(iocsa.Supervisor_Key as varchar(100)))
) t
WHERE rank = 1
and Service_Form_KEY in ( 5581109,5584648 )


</attribute>
  <attribute name="creationDate" type="LONG">1609174431866</attribute>
  <attribute name="creatorUserDomain" type="STRING">dev</attribute>
  <attribute name="creatorUserId" type="INTEGER">5310113</attribute>
  <attribute name="creatorUserName" type="STRING">dos90129</attribute>
  <attribute name="explicitly.designed" type="BOOLEAN">false</attribute>
  <attribute name="lastModifiedDate" type="LONG">1609896176534</attribute>
  <attribute name="lastModifiedUserDomain" type="STRING">composite</attribute>
  <attribute name="lastModifiedUserId" type="INTEGER">5310113</attribute>
  <attribute name="lastModifiedUserName" type="STRING">admin</attribute>
  <attribute name="model" type="NULL"/>
  <attribute name="resourceModifiedDateOnSourceCISSite" type="LONG">1609174431866</attribute>
</metadata>