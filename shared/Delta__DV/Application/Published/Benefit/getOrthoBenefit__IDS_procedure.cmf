<?xml version="1.1" encoding="UTF-8"?>
<!-- salt:cde82315-e936-41f1-90c6-32daeeda6afd -->
<metadata name="getOrthoBenefit_IDS" path="/shared/Delta_DV/Application/Published/Benefit/getOrthoBenefit_IDS" type="PROCEDURE" subtype="XQUERY_TRANSFORM_PROCEDURE" changeToken="0">
  <annotation><![CDATA[Ortho Benefit Service:  API to provide Delta Care Ortho Benefit Package for Enrollee or Group/Division
1. Get Benefit Package Id for Group/Division as of Effective Date or for Enrollee Id as of Effective Date
2. Get Ortho benefit configuration info for the Benefit Package Id]]></annotation>
  <parameters>
    <parameter name="orthoBenefit" direction="OUT" nullable="true">
      <datatype name="orthoBenefit" referenceDefinitionSet="/shared/Delta_DV/Application/DefinitionSets/Benefit/defxAI_OrthoBenefit" referenceType="orthoBenefit" subType="ELEMENT_DECL" type="XML" contentConstraint="SEQUENCE" schemaConstraint="ANY" componentType="ELEMENT" componentName="orthoBenefit">
        <schemaDatatype>
          <datatype name="orthoBenefit" superTypeName="anyType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" subType="ELEMENT_DECL" anonymous="true" type="TREE" refId="257">
            <element name="orthoBenefitPackageId">
              <datatype name="string" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="STRING" maxLength="2147483647"/>
            </element>
            <element name="groupNumber">
              <datatype name="string" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="STRING" maxLength="2147483647"/>
            </element>
            <element name="divisionNumber">
              <datatype name="string" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="STRING" maxLength="2147483647"/>
            </element>
            <element name="effectiveDate">
              <datatype name="date" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="DATE"/>
            </element>
            <element name="endDate">
              <datatype name="date" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="DATE"/>
            </element>
            <element name="orthoExtraction">
              <datatype name="string" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="STRING" maxLength="2147483647"/>
            </element>
            <element name="treatment" maxOccurs="2147483647" minOccurs="0">
              <datatype superTypeName="anyType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" subType="COMPLEX_TYPE" type="TREE" refId="513">
                <element name="sequenceNumber">
                  <datatype name="integer" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="decimal" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="DECIMAL" maxDigits="32" maxFractionalDigits="0"/>
                </element>
                <element name="name">
                  <datatype name="string" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="STRING" maxLength="2147483647"/>
                </element>
                <element name="networkCode">
                  <datatype name="string" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="STRING" maxLength="2147483647"/>
                </element>
                <element name="amountType">
                  <datatype name="string" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="STRING" maxLength="2147483647"/>
                </element>
                <element name="amount">
                  <datatype name="integer" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="decimal" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="DECIMAL" maxDigits="32" maxFractionalDigits="0"/>
                </element>
                <element name="procedure" maxOccurs="2147483647" minOccurs="0">
                  <datatype superTypeName="anyType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" subType="COMPLEX_TYPE" type="TREE" refId="769">
                    <element name="code">
                      <datatype name="string" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="STRING" maxLength="2147483647"/>
                    </element>
                    <element name="description">
                      <datatype name="string" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="STRING" maxLength="2147483647"/>
                    </element>
                  </datatype>
                </element>
              </datatype>
            </element>
          </datatype>
        </schemaDatatype>
      </datatype>
    </parameter>
    <parameter name="pGroupID" direction="IN" nullable="true">
      <datatype name="VARCHAR" type="STRING" maxLength="12"/>
    </parameter>
    <parameter name="pDivisionID" direction="IN" nullable="true">
      <datatype name="VARCHAR" type="STRING" maxLength="12"/>
    </parameter>
    <parameter name="pEffectiveDate" direction="IN" nullable="true">
      <datatype name="VARCHAR" type="STRING" maxLength="10"/>
    </parameter>
  </parameters>
  <security>
    <owner user="nobody" domain="composite"/>
  </security>
  <dependency target="/shared/Delta_DV/Application/DefinitionSets/Benefit/defxAI_OrthoBenefit" type="DEFINITION_SET">
    <datatype name="Tree" type="TREE" refId="257"></datatype>
  </dependency>
  <dependency target="/shared/Delta_DV/Business/BusinessSemantic/Benefit/Procedures/prcBl_GetOrthoBenefit_IDS" type="PROCEDURE">
    <datatype name="Tree" type="TREE" refId="257"></datatype>
  </dependency>
  <dependency target="/shared/Delta_DV/Physical/Formatting/BENEFITS/vwPI_OrthoBenefitSVCProc" type="TABLE">
    <datatype name="Tree" type="TREE" refId="257"></datatype>
  </dependency>
  <dependency target="/shared/Delta_DV/Physical/Formatting/PackagedQueries/Benefit/pkgPl_OrthoBenefitTreatment" type="PROCEDURE">
    <datatype name="Tree" type="TREE" refId="257"></datatype>
  </dependency>
  <attribute name="creationDate" type="LONG">1600803058158</attribute>
  <attribute name="creatorUserDomain" type="STRING">dev</attribute>
  <attribute name="creatorUserId" type="INTEGER">2810101</attribute>
  <attribute name="creatorUserName" type="STRING">dca31940</attribute>
  <attribute name="explicitly.designed" type="BOOLEAN">true</attribute>
  <attribute name="lastModifiedDate" type="LONG">1612390850114</attribute>
  <attribute name="lastModifiedUserDomain" type="STRING">dev</attribute>
  <attribute name="lastModifiedUserId" type="INTEGER">2810101</attribute>
  <attribute name="lastModifiedUserName" type="STRING">dca31940</attribute>
  <attribute name="resourceModifiedDateOnSourceCISSite" type="LONG">1600803058158</attribute>
  <attribute name="transformModel" type="NULL"/>
  <attribute name="xquery" type="STRING">declare copy-namespaces no-preserve,inherit;
declare namespace ns1=&quot;http://www.w3.org/2001/XMLSchema&quot;;
declare variable $pGroupID external;
declare variable $pDivisionID external;
declare variable $pEffectiveDate external;

&lt;root xmlns:ns1=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;{
  let $nodes := (
    let $inputs := (if (empty($pGroupID)) then &quot;NULL&quot; else concat(concat(&quot;&apos;&quot;,$pGroupID), &quot;&apos;&quot;) cast as xs:string,if (empty($pDivisionID)) then &quot;NULL&quot; else concat(concat(&quot;&apos;&quot;,$pDivisionID), &quot;&apos;&quot;) cast as xs:string,if (empty($pEffectiveDate)) then &quot;NULL&quot; else concat(concat(&quot;&apos;&quot;,$pEffectiveDate), &quot;&apos;&quot;) cast as xs:string)
    let $query := concat( &quot;select BenefitPkgID,GroupID,DivisionID,EffDate,EndDate,OrthoExtractIND from /shared/Delta_DV/Business/BusinessSemantic/Benefit/Procedures/prcBl_GetOrthoBenefit_IDS(&quot;, concat( string-join($inputs,&quot;,&quot;), &quot;)&quot;))
    let $BenefitPkg1 := composite:executeQuery($query)//result
    for $BenefitPkg in $BenefitPkg1
    return
    element orthoBenefit {
      element orthoBenefitPackageId {$BenefitPkg/BenefitPkgID/text()},
      element groupNumber {$BenefitPkg/GroupID/text()},
      element divisionNumber {$BenefitPkg/DivisionID/text()},
      element effectiveDate {$BenefitPkg/EffDate/text()},
      element endDate {$BenefitPkg/EndDate/text()},
      element orthoExtraction {$BenefitPkg/OrthoExtractIND/text()},
      let $inputs := (if (empty($BenefitPkg/BenefitPkgID/text())) then &quot;NULL&quot; else concat(concat(&quot;&apos;&quot;,$BenefitPkg/BenefitPkgID/text()), &quot;&apos;&quot;) cast as xs:string,if (empty($pEffectiveDate)) then &quot;NULL&quot; else concat(concat(&quot;&apos;&quot;,$pEffectiveDate), &quot;&apos;&quot;) cast as xs:string)
      let $query := concat( &quot;select ServiceID,ServiceName,NetworkCD,AMTType,AMT from /shared/Delta_DV/Physical/Formatting/PackagedQueries/Benefit/pkgPl_OrthoBenefitTreatment(&quot;, concat( string-join($inputs,&quot;,&quot;), &quot;)&quot;))
      let $BenefitTreatment1 := composite:executeQuery($query)//result
      for $BenefitTreatment in $BenefitTreatment1
      return
      element treatment {
        element sequenceNumber {$BenefitTreatment/ServiceID/text()},
        element name {$BenefitTreatment/ServiceName/text()},
        element networkCode {$BenefitTreatment/NetworkCD/text()},
        element amountType {$BenefitTreatment/AMTType/text()},
        element amount {$BenefitTreatment/AMT/text()},
        let $query := &quot;select ServiceID,ProcedureCD,ProcedureDESC from /shared/Delta_DV/Physical/Formatting/BENEFITS/vwPI_OrthoBenefitSVCProc&quot;
        let $BenefitProc1 := composite:executeQuery($query)//result[ServiceID = $BenefitTreatment/ServiceID]
        for $BenefitProc in $BenefitProc1[ServiceID = $BenefitTreatment/ServiceID]
        return
        element procedure {
          element code {$BenefitProc/ProcedureCD/text()},
          element description {$BenefitProc/ProcedureDESC/text()}
        }
      }
    }
  )
  return
  $nodes[1]
}&lt;/root&gt;/orthoBenefit</attribute>
  <attribute name="xqueryModel" type="BYTE_ARRAY">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</attribute>
</metadata>