<?xml version="1.1" encoding="UTF-8"?>
<!-- salt:cde82315-e936-41f1-90c6-32daeeda6afd -->
<metadata name="prcBI_PaymentSearchBillToComb" path="/shared/Delta_DV/Business/Logical/Billing/Procedures/prcBI_PaymentSearchBillToComb" type="PROCEDURE" subtype="SQL_SCRIPT_PROCEDURE" changeToken="0">
  <annotation><![CDATA[Ebillpay:this sql script  calls the package query  when a billtogroup and billtoRollup  
comes in together  in  JSON request]]></annotation>
  <parameters>
    <parameter name="inSortField" direction="IN" nullable="true">
      <datatype name="VARCHAR" type="STRING" maxLength="500"/>
    </parameter>
    <parameter name="inBillToID" direction="IN" nullable="true">
      <datatype name="VARCHAR" type="STRING" maxLength="4000"/>
    </parameter>
    <parameter name="inParentGroupNumber" direction="IN" nullable="true">
      <datatype name="VARCHAR" type="STRING" maxLength="30"/>
    </parameter>
    <parameter name="inPaymentNumber" direction="IN" nullable="true">
      <datatype name="VARCHAR" type="STRING" maxLength="50"/>
    </parameter>
    <parameter name="inReceiptAmountMax" direction="IN" nullable="true">
      <datatype name="DECIMAL" type="DECIMAL" maxDigits="27" maxFractionalDigits="2"/>
    </parameter>
    <parameter name="inReceiptAmountMin" direction="IN" nullable="true">
      <datatype name="DECIMAL" type="DECIMAL" maxDigits="27" maxFractionalDigits="2"/>
    </parameter>
    <parameter name="inPaymentDateStart" direction="IN" nullable="true">
      <datatype name="DATE" type="DATE"/>
    </parameter>
    <parameter name="inPaymentDateEnd" direction="IN" nullable="true">
      <datatype name="DATE" type="DATE"/>
    </parameter>
    <parameter name="inInvoiceNumber" direction="IN" nullable="true">
      <datatype name="VARCHAR" type="STRING" maxLength="50"/>
    </parameter>
    <parameter name="inInvoiceDateStart" direction="IN" nullable="true">
      <datatype name="DATE" type="DATE"/>
    </parameter>
    <parameter name="inInvoiceDateRangeEnd" direction="IN" nullable="true">
      <datatype name="DATE" type="DATE"/>
    </parameter>
    <parameter name="inPaymentAmount" direction="IN" nullable="true">
      <datatype name="VARCHAR" type="STRING" maxLength="50"/>
    </parameter>
    <parameter name="inPaymentTypes" direction="IN" nullable="true">
      <datatype name="VARCHAR" type="STRING" maxLength="1000"/>
    </parameter>
    <parameter name="inPaymentStatuses" direction="IN" nullable="true">
      <datatype name="VARCHAR" type="STRING" maxLength="1000"/>
    </parameter>
    <parameter name="inAppliedAmountMax" direction="IN" nullable="true">
      <datatype name="DECIMAL" type="DECIMAL" maxDigits="27" maxFractionalDigits="2"/>
    </parameter>
    <parameter name="inAppliedAmountMin" direction="IN" nullable="true">
      <datatype name="DECIMAL" type="DECIMAL" maxDigits="27" maxFractionalDigits="2"/>
    </parameter>
    <parameter name="inAdjustmentAmountMax" direction="IN" nullable="true">
      <datatype name="DECIMAL" type="DECIMAL" maxDigits="27" maxFractionalDigits="2"/>
    </parameter>
    <parameter name="inAdjustmentAmountMin" direction="IN" nullable="true">
      <datatype name="DECIMAL" type="DECIMAL" maxDigits="27" maxFractionalDigits="2"/>
    </parameter>
    <parameter name="inOriginalInvoiceAmountMax" direction="IN" nullable="true">
      <datatype name="DECIMAL" type="DECIMAL" maxDigits="27" maxFractionalDigits="2"/>
    </parameter>
    <parameter name="inOriginalInvoiceAmountMin" direction="IN" nullable="true">
      <datatype name="DECIMAL" type="DECIMAL" maxDigits="27" maxFractionalDigits="2"/>
    </parameter>
    <parameter name="inOutstandingBalanceMax" direction="IN" nullable="true">
      <datatype name="DECIMAL" type="DECIMAL" maxDigits="27" maxFractionalDigits="2"/>
    </parameter>
    <parameter name="inOutstandingBalanceMin" direction="IN" nullable="true">
      <datatype name="DECIMAL" type="DECIMAL" maxDigits="27" maxFractionalDigits="2"/>
    </parameter>
    <parameter name="inCreditMemoMax" direction="IN" nullable="true">
      <datatype name="DECIMAL" type="DECIMAL" maxDigits="27" maxFractionalDigits="2"/>
    </parameter>
    <parameter name="inCreditMemoMin" direction="IN" nullable="true">
      <datatype name="DECIMAL" type="DECIMAL" maxDigits="27" maxFractionalDigits="2"/>
    </parameter>
    <parameter name="inBrand" direction="IN" nullable="true">
      <datatype name="VARCHAR" type="STRING" maxLength="50"/>
    </parameter>
    <parameter name="incashReceiptId" direction="IN" nullable="true">
      <datatype name="VARCHAR" type="STRING" maxLength="500"/>
    </parameter>
    <parameter name="inNumberOfRowsPerPage" direction="IN" nullable="true">
      <datatype name="INTEGER" type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
    </parameter>
    <parameter name="inPageNumber" direction="IN" nullable="true">
      <datatype name="INTEGER" type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
    </parameter>
    <parameter name="inRBillToID" direction="IN" nullable="true">
      <datatype name="VARCHAR" type="STRING" maxLength="4000"/>
    </parameter>
    <parameter name="result" direction="OUT" nullable="true">
      <datatype name="result" type="TABLE" refId="256">
        <element name="invoiceNumber">
          <datatype name="VARCHAR" type="STRING" maxLength="30"/>
        </element>
        <element name="paymentNumber">
          <datatype name="VARCHAR" type="STRING" maxLength="30"/>
        </element>
        <element name="invoiceDate">
          <datatype name="DATE" type="DATE"/>
        </element>
        <element name="billToDiv">
          <datatype name="VARCHAR" type="STRING" maxLength="40"/>
        </element>
        <element name="billToAccount">
          <datatype name="VARCHAR" type="STRING" maxLength="30"/>
        </element>
        <element name="billToID">
          <datatype name="VARCHAR" type="STRING" maxLength="100"/>
        </element>
        <element name="paymentInitiateDate">
          <datatype name="DATE" type="DATE"/>
        </element>
        <element name="paymentDate">
          <datatype name="DATE" type="DATE"/>
        </element>
        <element name="paymentType">
          <datatype name="VARCHAR" type="STRING" maxLength="255"/>
        </element>
        <element name="paymentStatus">
          <datatype name="VARCHAR" type="STRING" maxLength="255"/>
        </element>
        <element name="originalInvoiceAmount">
          <datatype name="DOUBLE" type="FLOAT" minValue="2.2250738585072014E-308" maxValue="1.7976931348623157E308"/>
        </element>
        <element name="amountApplied">
          <datatype name="DOUBLE" type="FLOAT" minValue="2.2250738585072014E-308" maxValue="1.7976931348623157E308"/>
        </element>
        <element name="outstandBalance">
          <datatype name="DOUBLE" type="FLOAT" minValue="2.2250738585072014E-308" maxValue="1.7976931348623157E308"/>
        </element>
        <element name="adjustment">
          <datatype name="DOUBLE" type="FLOAT" minValue="2.2250738585072014E-308" maxValue="1.7976931348623157E308"/>
        </element>
        <element name="creditMemo">
          <datatype name="DOUBLE" type="FLOAT" minValue="2.2250738585072014E-308" maxValue="1.7976931348623157E308"/>
        </element>
        <element name="paymentAmount">
          <datatype name="DOUBLE" type="FLOAT" minValue="2.2250738585072014E-308" maxValue="1.7976931348623157E308"/>
        </element>
        <element name="paymentTotal">
          <datatype name="DOUBLE" type="FLOAT" minValue="2.2250738585072014E-308" maxValue="1.7976931348623157E308"/>
        </element>
        <element name="cashReceiptId">
          <datatype name="VARCHAR" type="STRING" maxLength="500"/>
        </element>
        <element name="totalnumberofrows">
          <datatype name="DOUBLE" type="FLOAT" minValue="2.2250738585072014E-308" maxValue="1.7976931348623157E308"/>
        </element>
      </datatype>
    </parameter>
  </parameters>
  <security>
    <owner user="nobody" domain="composite"/>
  </security>
  <dependency target="/shared/Delta_DV/Physical/Formatting/PackagedQueries/Billing/pkgPI_PaymentSearchBillToComb" type="PROCEDURE">
    <datatype type="PROCEDURE" refId="258">
      <element name="sortField" direction="IN">
        <datatype type="STRING" maxLength="255"/>
      </element>
      <element name="billToID" direction="IN">
        <datatype type="STRING" maxLength="5000"/>
      </element>
      <element name="parentGroupNumber" direction="IN">
        <datatype type="STRING" maxLength="30"/>
      </element>
      <element name="paymentNumber" direction="IN">
        <datatype type="STRING" maxLength="50"/>
      </element>
      <element name="maxReceiptAmount" direction="IN">
        <datatype type="DECIMAL" maxDigits="32" maxFractionalDigits="2"/>
      </element>
      <element name="minReceiptAmount" direction="IN">
        <datatype type="DECIMAL" maxDigits="32" maxFractionalDigits="2"/>
      </element>
      <element name="paymentStartDate" direction="IN">
        <datatype type="DATE"/>
      </element>
      <element name="paymentEndDate" direction="IN">
        <datatype type="DATE"/>
      </element>
      <element name="invoiceNumber" direction="IN">
        <datatype type="STRING" maxLength="50"/>
      </element>
      <element name="invoiceStartDate" direction="IN">
        <datatype type="DATE"/>
      </element>
      <element name="invoiceEndDate" direction="IN">
        <datatype type="DATE"/>
      </element>
      <element name="paymentAmount" direction="IN">
        <datatype type="DECIMAL" maxDigits="32" maxFractionalDigits="2"/>
      </element>
      <element name="paymentTypes" direction="IN">
        <datatype type="STRING" maxLength="255"/>
      </element>
      <element name="paymentStatuses" direction="IN">
        <datatype type="STRING" maxLength="255"/>
      </element>
      <element name="maxAmountApplied" direction="IN">
        <datatype type="DECIMAL" maxDigits="32" maxFractionalDigits="2"/>
      </element>
      <element name="minAmountApplied" direction="IN">
        <datatype type="DECIMAL" maxDigits="32" maxFractionalDigits="2"/>
      </element>
      <element name="maxOriginalInvoiceAmount" direction="IN">
        <datatype type="DECIMAL" maxDigits="32" maxFractionalDigits="2"/>
      </element>
      <element name="minOriginalInvoiceAmount" direction="IN">
        <datatype type="DECIMAL" maxDigits="32" maxFractionalDigits="2"/>
      </element>
      <element name="maxOutstandingBalance" direction="IN">
        <datatype type="DECIMAL" maxDigits="32" maxFractionalDigits="2"/>
      </element>
      <element name="minOutstandingBalance" direction="IN">
        <datatype type="DECIMAL" maxDigits="32" maxFractionalDigits="2"/>
      </element>
      <element name="maxAdjustmentAmount" direction="IN">
        <datatype type="DECIMAL" maxDigits="32" maxFractionalDigits="2"/>
      </element>
      <element name="minAdjustmentAmount" direction="IN">
        <datatype type="DECIMAL" maxDigits="32" maxFractionalDigits="2"/>
      </element>
      <element name="maxCreditMemo" direction="IN">
        <datatype type="DECIMAL" maxDigits="32" maxFractionalDigits="2"/>
      </element>
      <element name="minCreditMemo" direction="IN">
        <datatype type="DECIMAL" maxDigits="32" maxFractionalDigits="2"/>
      </element>
      <element name="numberOfRowsPerPage" direction="IN">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="pageNumber" direction="IN">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="RBillToId" direction="IN">
        <datatype type="STRING" maxLength="5000"/>
      </element>
      <element name="brand" direction="IN">
        <datatype type="STRING" maxLength="255"/>
      </element>
      <element name="cashReceiptId" direction="IN">
        <datatype type="STRING" maxLength="500"/>
      </element>
      <element name="result" direction="OUT">
        <datatype type="TABLE" refId="256">
          <element name="invoiceNumber">
            <datatype type="STRING" maxLength="30"/>
          </element>
          <element name="paymentNumber">
            <datatype type="STRING" maxLength="30"/>
          </element>
          <element name="invoiceDate">
            <datatype type="DATE"/>
          </element>
          <element name="billToDiv">
            <datatype type="STRING" maxLength="40"/>
          </element>
          <element name="billToAccount">
            <datatype type="STRING" maxLength="30"/>
          </element>
          <element name="billToID">
            <datatype type="STRING" maxLength="100"/>
          </element>
          <element name="paymentInitiateDate">
            <datatype type="DATE"/>
          </element>
          <element name="paymentDate">
            <datatype type="DATE"/>
          </element>
          <element name="paymentType">
            <datatype type="STRING" maxLength="255"/>
          </element>
          <element name="paymentStatus">
            <datatype type="STRING" maxLength="255"/>
          </element>
          <element name="originalInvoiceAmount">
            <datatype type="FLOAT" minValue="2.2250738585072014E-308" maxValue="1.7976931348623157E308"/>
          </element>
          <element name="amountApplied">
            <datatype type="FLOAT" minValue="2.2250738585072014E-308" maxValue="1.7976931348623157E308"/>
          </element>
          <element name="outstandBalance">
            <datatype type="FLOAT" minValue="2.2250738585072014E-308" maxValue="1.7976931348623157E308"/>
          </element>
          <element name="adjustment">
            <datatype type="FLOAT" minValue="2.2250738585072014E-308" maxValue="1.7976931348623157E308"/>
          </element>
          <element name="creditMemo">
            <datatype type="FLOAT" minValue="2.2250738585072014E-308" maxValue="1.7976931348623157E308"/>
          </element>
          <element name="paymentAmount">
            <datatype type="FLOAT" minValue="2.2250738585072014E-308" maxValue="1.7976931348623157E308"/>
          </element>
          <element name="paymentTotal">
            <datatype type="FLOAT" minValue="2.2250738585072014E-308" maxValue="1.7976931348623157E308"/>
          </element>
          <element name="brand">
            <datatype type="STRING" maxLength="255"/>
          </element>
          <element name="cashReceiptId">
            <datatype type="STRING" maxLength="255"/>
          </element>
          <element name="rk">
            <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
          </element>
          <element name="totalNumberOfRows">
            <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
          </element>
        </datatype>
      </element>
    </datatype>
  </dependency>
  <attribute name="Script" type="STRING">PROCEDURE prcBI_PaymentSearchBillToComb(
IN inSortField VARCHAR(500),
IN inBillToID   VARCHAR(4000),
IN inParentGroupNumber VARCHAR(30),
IN inPaymentNumber VARCHAR(50),
IN inReceiptAmountMax DECIMAL(27,2),
IN inReceiptAmountMin DECIMAL(27,2),
IN inPaymentDateStart DATE,
IN inPaymentDateEnd DATE,
IN inInvoiceNumber VARCHAR(50),
IN inInvoiceDateStart DATE,
IN inInvoiceDateRangeEnd DATE,
IN inPaymentAmount VARCHAR(50),
IN inPaymentTypes VARCHAR(1000), 
IN inPaymentStatuses VARCHAR(1000),
IN inAppliedAmountMax DECIMAL(27,2),
IN inAppliedAmountMin DECIMAL(27,2),
IN inAdjustmentAmountMax DECIMAL(27,2),
IN inAdjustmentAmountMin DECIMAL(27,2),
IN inOriginalInvoiceAmountMax DECIMAL(27,2),
IN inOriginalInvoiceAmountMin DECIMAL(27,2),
IN inOutstandingBalanceMax DECIMAL(27,2),
IN inOutstandingBalanceMin DECIMAL(27,2),
IN inCreditMemoMax DECIMAL(27,2),
IN inCreditMemoMin DECIMAL(27,2),
IN inBrand VARCHAR(50),
IN incashReceiptId VARCHAR(500),
IN inNumberOfRowsPerPage INTEGER,
IN inPageNumber INTEGER,
IN inRBillToID   VARCHAR(4000),
   OUT result CURSOR (
&#x9;&#x9; invoiceNumber VARCHAR(30),
        paymentNumber VARCHAR(30),
        invoiceDate DATE,
        billToDiv VARCHAR(40),
        billToAccount VARCHAR(30),
        billToID   VARCHAR(100),
        paymentInitiateDate DATE,
        paymentDate DATE,
        paymentType VARCHAR(255),
        paymentStatus VARCHAR(255),
       originalInvoiceAmount DOUBLE,
       amountApplied DOUBLE,
       outstandBalance DOUBLE,
       adjustment DOUBLE,
       creditMemo DOUBLE,
       paymentAmount DOUBLE,
       paymentTotal DOUBLE,cashReceiptId VARCHAR(500),
&#x9;&#x9;totalnumberofrows double
        )
)

BEGIN 
    OPEN result FOR
&#x9;&#x9; select  BillToComb.invoiceNumber,
                      BillToComb.paymentNumber,
                      BillToComb.invoiceDate,
                      BillToComb.billToDiv,
                      BillToComb.billToAccount,
                      BillToComb.billToID,
                      BillToComb.paymentInitiateDate,
                      BillToComb.paymentDate,
                      BillToComb.paymentType,
                      BillToComb.paymentStatus,
                      BillToComb.originalInvoiceAmount,
                      BillToComb.amountApplied,
                      BillToComb.outstandBalance,
                      BillToComb.adjustment,
                      BillToComb.creditMemo,
                      BillToComb.paymentAmount,
                      BillToComb.paymentTotal,BillToComb.cashReceiptId,
BillToComb.totalnumberofrows 
                      from /shared/Delta_DV/Physical/Formatting/PackagedQueries/Billing/pkgPI_PaymentSearchBillToComb(inSortField,
&#x9;&#x9;&#x9;&#x9;&#x9;inBillToID,
&#x9;&#x9;&#x9;&#x9;&#x9;inParentGroupNumber,
&#x9;&#x9;&#x9;&#x9;&#x9;inPaymentNumber,
&#x9;&#x9;&#x9;&#x9;&#x9;inReceiptAmountMax,
&#x9;&#x9;&#x9;&#x9;&#x9;inReceiptAmountMin,
&#x9;&#x9;&#x9;&#x9;&#x9;inPaymentDateStart,
&#x9;&#x9;&#x9;&#x9;&#x9;inPaymentDateEnd,
&#x9;&#x9;&#x9;&#x9;&#x9;inInvoiceNumber,
&#x9;&#x9;&#x9;&#x9;&#x9;inInvoiceDateStart,
&#x9;&#x9;&#x9;&#x9;&#x9;inInvoiceDateRangeEnd,
&#x9;&#x9;&#x9;&#x9;&#x9;inPaymentAmount,
&#x9;&#x9;&#x9;&#x9;&#x9;inPaymentTypes,
&#x9;&#x9;&#x9;&#x9;&#x9;inPaymentStatuses,
&#x9;&#x9;&#x9;&#x9;&#x9;inAppliedAmountMax,
&#x9;&#x9;&#x9;&#x9;&#x9;inAppliedAmountMin,
&#x9;&#x9;&#x9;&#x9;&#x9;inAdjustmentAmountMax,
&#x9;&#x9;&#x9;&#x9;&#x9;inAdjustmentAmountMin,
&#x9;&#x9;&#x9;&#x9;&#x9;inOriginalInvoiceAmountMax,
&#x9;&#x9;&#x9;&#x9;&#x9;inOriginalInvoiceAmountMin,
&#x9;&#x9;&#x9;&#x9;&#x9;inOutstandingBalanceMax,
&#x9;&#x9;&#x9;&#x9;&#x9;inOutstandingBalanceMin,
&#x9;&#x9;&#x9;&#x9;&#x9;inCreditMemoMax,
&#x9;&#x9;&#x9;&#x9;&#x9;inCreditMemoMin,
&#x9;&#x9;&#x9;&#x9;&#x9;inNumberOfRowsPerPage,
&#x9;&#x9;&#x9;&#x9;&#x9;inPageNumber,
&#x9;&#x9;&#x9;&#x9;&#x9;inRBillToID,inBrand,incashReceiptId) BillToComb
;
END
</attribute>
  <attribute name="creationDate" type="LONG">1596527401551</attribute>
  <attribute name="creatorUserDomain" type="STRING">dev</attribute>
  <attribute name="creatorUserId" type="INTEGER">3980101</attribute>
  <attribute name="creatorUserName" type="STRING">dos59246</attribute>
  <attribute name="explicitly.designed" type="BOOLEAN">false</attribute>
  <attribute name="lastModifiedDate" type="LONG">1609896176534</attribute>
  <attribute name="lastModifiedUserDomain" type="STRING">composite</attribute>
  <attribute name="lastModifiedUserId" type="INTEGER">3980101</attribute>
  <attribute name="lastModifiedUserName" type="STRING">admin</attribute>
  <attribute name="model" type="NULL"/>
  <attribute name="native_only" type="STRING">false</attribute>
  <attribute name="references" type="NULL"/>
  <attribute name="resourceModifiedDateOnSourceCISSite" type="LONG">1596527401551</attribute>
</metadata>